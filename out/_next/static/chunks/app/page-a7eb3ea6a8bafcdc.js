(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9466:(e,t,a)=>{Promise.resolve().then(a.bind(a,7167))},7167:(e,t,a)=>{"use strict";a.d(t,{default:()=>ej});var s=a(5155),r=a(2115),o=a(6336),l=a(3565),i=a(2423),d=a(872),n=a(5686),c=a(2317),u=a(652),f=a(3463),p=a(9795);function m(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,p.QP)((0,f.$)(t))}let x=(0,u.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:l=!1,...i}=e,d=l?c.DX:"button";return(0,s.jsx)(d,{className:m(x({variant:r,size:o,className:a})),ref:t,...i})});h.displayName="Button";let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:m("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});g.displayName="Card";let y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:m("flex flex-col space-y-1.5 p-6",a),...r})});y.displayName="CardHeader";let v=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:m("text-2xl font-semibold leading-none tracking-tight",a),...r})});v.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:m("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:m("p-6 pt-0",a),...r})});j.displayName="CardContent";let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:m("flex items-center p-6 pt-0",a),...r})});b.displayName="CardFooter";let w=(0,u.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function N(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:m(w({variant:a}),t),...r})}let S={low:"bg-blue-500",medium:"bg-yellow-500",high:"bg-red-500"};function C(e){let{todo:t,formattedDate:a,onEdit:r,onDelete:c,onToggleComplete:u}=e;return(0,s.jsxs)(g,{className:"w-full",children:[(0,s.jsxs)(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsxs)(v,{className:"text-lg font-bold flex items-center gap-2",children:[(0,s.jsx)(h,{variant:"ghost",size:"icon",onClick:()=>u(t.id,t.active),children:t.active?(0,s.jsx)(o.A,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(l.A,{className:"h-5 w-5"})}),(0,s.jsx)("span",{className:t.active?"":"line-through text-muted-foreground",children:t.title})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N,{variant:"secondary",children:t.category}),(0,s.jsx)(N,{className:S[t.priority],children:t.priority})]})]}),(0,s.jsxs)(j,{children:[(0,s.jsx)("p",{className:"text-sm ".concat(t.active?"text-muted-foreground":""),children:t.description}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:a})," "]})]}),(0,s.jsxs)(b,{className:"flex justify-end gap-2",children:[(0,s.jsx)(h,{size:"icon",variant:"ghost",onClick:()=>r(t),children:(0,s.jsx)(d.A,{className:"h-4 w-4"})}),(0,s.jsx)(h,{size:"icon",variant:"ghost",onClick:()=>c(t.id),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})]})]})}let T=r.forwardRef((e,t)=>{let{className:a,type:r,...o}=e;return(0,s.jsx)("input",{type:r,className:m("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...o})});T.displayName="Input";var A=a(833),_=a(1719),E=a(1902),k=a(8867);let R=A.bL;A.YJ;let O=A.WT,D=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(A.l9,{ref:t,className:m("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...o,children:[r,(0,s.jsx)(A.In,{asChild:!0,children:(0,s.jsx)(_.A,{className:"h-4 w-4 opacity-50"})})]})});D.displayName=A.l9.displayName;let P=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(A.PP,{ref:t,className:m("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(E.A,{className:"h-4 w-4"})})});P.displayName=A.PP.displayName;let F=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(A.wn,{ref:t,className:m("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(_.A,{className:"h-4 w-4"})})});F.displayName=A.wn.displayName;let I=r.forwardRef((e,t)=>{let{className:a,children:r,position:o="popper",...l}=e;return(0,s.jsx)(A.ZL,{children:(0,s.jsxs)(A.UC,{ref:t,className:m("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o,...l,children:[(0,s.jsx)(P,{}),(0,s.jsx)(A.LM,{className:m("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(F,{})]})})});I.displayName=A.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(A.JU,{ref:t,className:m("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=A.JU.displayName;let L=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(A.q7,{ref:t,className:m("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(A.VF,{children:(0,s.jsx)(k.A,{className:"h-4 w-4"})})}),(0,s.jsx)(A.p4,{children:r})]})});function V(e){let{todos:t,onEdit:a,onDelete:o,onToggleComplete:l}=e,[i,d]=(0,r.useState)(""),[n,c]=(0,r.useState)("all"),[u,f]=(0,r.useState)("all"),[p,m]=(0,r.useState)("all"),[x,h]=(0,r.useState)(t),g=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return(0,r.useEffect)(()=>{h(t.filter(e=>{let t=e.title.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase()),a="all"===n||("active"===n?e.active:!e.active),s="all"===u||e.category===u,r="all"===p||e.priority===p;return t&&a&&s&&r}))},[i,n,u,p,t]),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)(T,{placeholder:"Search todos...",value:i,onChange:e=>d(e.target.value)}),(0,s.jsxs)(R,{onValueChange:e=>c(e),defaultValue:"all",children:[(0,s.jsx)(D,{children:(0,s.jsx)(O,{placeholder:"Filter by status"})}),(0,s.jsxs)(I,{children:[(0,s.jsx)(L,{value:"all",children:"All"}),(0,s.jsx)(L,{value:"active",children:"Active"}),(0,s.jsx)(L,{value:"completed",children:"Completed"})]})]}),(0,s.jsxs)(R,{onValueChange:f,defaultValue:"all",children:[(0,s.jsx)(D,{children:(0,s.jsx)(O,{placeholder:"Filter by category"})}),(0,s.jsxs)(I,{children:[(0,s.jsx)(L,{value:"all",children:"All Categories"}),(0,s.jsx)(L,{value:"work",children:"Work"}),(0,s.jsx)(L,{value:"personal",children:"Personal"}),(0,s.jsx)(L,{value:"shopping",children:"Shopping"}),(0,s.jsx)(L,{value:"other",children:"Other"})]})]}),(0,s.jsxs)(R,{onValueChange:m,defaultValue:"all",children:[(0,s.jsx)(D,{children:(0,s.jsx)(O,{placeholder:"Filter by priority"})}),(0,s.jsxs)(I,{children:[(0,s.jsx)(L,{value:"all",children:"All Priorities"}),(0,s.jsx)(L,{value:"low",children:"Low"}),(0,s.jsx)(L,{value:"medium",children:"Medium"}),(0,s.jsx)(L,{value:"high",children:"High"})]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(e=>(0,s.jsx)(C,{todo:e,formattedDate:g(e.date),onEdit:a,onDelete:o,onToggleComplete:l},e.id||"1"))})]})}L.displayName=A.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(A.wv,{ref:t,className:m("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=A.wv.displayName;var z=a(9606);let U=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:m("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});U.displayName="Textarea";var M=a(3518),J=a(6967),H=a(2222);function B(e){let{className:t,classNames:a,showOutsideDays:r=!0,...o}=e;return(0,s.jsx)(H.hv,{showOutsideDays:r,className:m("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:m(x({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:m(x({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,s.jsx)(M.A,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,s.jsx)(J.A,{className:"h-4 w-4"})}},...o})}B.displayName="Calendar";var W=a(532);let X=W.bL,Y=W.l9,Z=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:o=4,...l}=e;return(0,s.jsx)(W.ZL,{children:(0,s.jsx)(W.UC,{ref:t,align:r,sideOffset:o,className:m("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});Z.displayName=W.UC.displayName;var q=a(32);function G(e){var t;let{initialData:a,onSubmit:o,onCancel:l}=e,[d,n]=(0,r.useState)((null==a?void 0:a.date)?new Date(a.date):void 0),{register:c,handleSubmit:u,setValue:f}=(0,z.mN)({defaultValues:a});return(0,s.jsxs)("form",{onSubmit:u(e=>{o({...e,date:(null==d?void 0:d.toISOString())||new Date().toISOString()})}),className:"space-y-4",children:[(0,s.jsx)(T,{placeholder:"Title",...c("title")}),(0,s.jsx)(U,{placeholder:"Description",...c("description")}),(0,s.jsxs)(R,{onValueChange:e=>f("priority",e),defaultValue:null==a?void 0:a.priority,children:[(0,s.jsx)(D,{children:(0,s.jsx)(O,{placeholder:"Select priority"})}),(0,s.jsxs)(I,{children:[(0,s.jsx)(L,{value:"low",children:"Low"}),(0,s.jsx)(L,{value:"medium",children:"Medium"}),(0,s.jsx)(L,{value:"high",children:"High"})]})]}),(0,s.jsxs)(R,{onValueChange:e=>f("category",e),defaultValue:null==a?void 0:a.category,children:[(0,s.jsx)(D,{children:(0,s.jsx)(O,{placeholder:"Select category"})}),(0,s.jsxs)(I,{children:[(0,s.jsx)(L,{value:"work",children:"Work"}),(0,s.jsx)(L,{value:"personal",children:"Personal"}),(0,s.jsx)(L,{value:"shopping",children:"Shopping"}),(0,s.jsx)(L,{value:"other",children:"Other"})]})]}),(0,s.jsxs)(X,{children:[(0,s.jsx)(Y,{asChild:!0,children:(0,s.jsxs)(h,{variant:"outline",className:m("w-full justify-start text-left font-normal",!d&&"text-muted-foreground"),children:[(0,s.jsx)(i.A,{className:"mr-2 h-4 w-4"}),d?(0,q.GP)(d,"PPP"):(0,s.jsx)("span",{children:"Pick a due date"})]})}),(0,s.jsx)(Z,{className:"w-auto p-0",children:(0,s.jsx)(B,{mode:"single",selected:d,onSelect:n,initialFocus:!0})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"active",...c("active"),defaultChecked:null===(t=null==a?void 0:a.active)||void 0===t||t,className:"h-4 w-4"}),(0,s.jsx)("label",{htmlFor:"active",className:"text-sm text-muted-foreground",children:"Active"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(h,{type:"button",variant:"outline",onClick:l,children:"Cancel"}),(0,s.jsxs)(h,{type:"submit",children:[a?"Update":"Create"," Todo"]})]})]})}var Q=a(6217),$=a(767);let K=Q.bL;Q.l9;let ee=Q.ZL;Q.bm;let et=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Q.hJ,{ref:t,className:m("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});et.displayName=Q.hJ.displayName;let ea=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(ee,{children:[(0,s.jsx)(et,{}),(0,s.jsxs)(Q.UC,{ref:t,className:m("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[r,(0,s.jsxs)(Q.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)($.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});ea.displayName=Q.UC.displayName;let es=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:m("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};es.displayName="DialogHeader";let er=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Q.hE,{ref:t,className:m("text-lg font-semibold leading-none tracking-tight",a),...r})});er.displayName=Q.hE.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Q.VY,{ref:t,className:m("text-sm text-muted-foreground",a),...r})}).displayName=Q.VY.displayName;let eo=0,el=new Map,ei=e=>{if(el.has(e))return;let t=setTimeout(()=>{el.delete(e),eu({type:"REMOVE_TOAST",toastId:e})},1e6);el.set(e,t)},ed=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?ei(a):e.toasts.forEach(e=>{ei(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},en=[],ec={toasts:[]};function eu(e){ec=ed(ec,e),en.forEach(e=>{e(ec)})}function ef(e){let{...t}=e,a=(eo=(eo+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>eu({type:"DISMISS_TOAST",toastId:a});return eu({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>eu({type:"UPDATE_TOAST",toast:{...e,id:a}})}}var ep=a(3473);let em="http://127.0.0.1/todo-backend-php/public/index.php/todos";if(!em)throw Error("NEXT_PUBLIC_API_BASE_URL is not defined in your .env file.");async function ex(){let e=await fetch("".concat(em,"/api/todos"));if(!e.ok)throw Error("Failed to fetch todos");return e.json()}let eh=e=>e.split("T")[0];async function eg(e){let t={...e,date:eh(e.date)},a=await fetch("".concat(em,"/api/todos"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to create todo");return await a.json(),{...e,id:Date.now().toString()}}async function ey(e,t){let a={...t,...t.date&&{date:eh(t.date)}},s=await fetch("".concat(em,"/api/todos/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw Error("Failed to update todo");return await s.json(),{id:e,...t}}async function ev(e){if(!(await fetch("".concat(em,"/api/todos/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete todo")}function ej(){let[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)(!1),[l,i]=(0,r.useState)(null),{toast:d}=function(){let[e,t]=r.useState(ec);return r.useEffect(()=>(en.push(t),()=>{let e=en.indexOf(t);e>-1&&en.splice(e,1)}),[e]),{...e,toast:ef,dismiss:e=>eu({type:"DISMISS_TOAST",toastId:e})}}();(0,r.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await ex();t(e)}catch(e){d({title:"Error",description:"Failed to load todos",variant:"destructive"})}},c=async e=>{try{await eg(e),await n(),o(!1),d({title:"Success",description:"Todo created successfully"})}catch(e){d({title:"Error",description:"Failed to create todo",variant:"destructive"})}},u=async e=>{if(l)try{await ey(l.id,e),await n(),i(null),d({title:"Success",description:"Todo updated successfully"})}catch(e){d({title:"Error",description:"Failed to update todo",variant:"destructive"})}},f=async a=>{try{await ev(a),t(e.filter(e=>e.id!==a)),d({title:"Success",description:"Todo deleted successfully"})}catch(e){d({title:"Error",description:"Failed to delete todo",variant:"destructive"})}},p=async(e,t)=>{try{await ey(e,{active:t}),await n()}catch(e){d({title:"Error",description:"Failed to update todo",variant:"destructive"})}};return(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:"Todo App"}),(0,s.jsxs)(h,{onClick:()=>o(!0),children:[(0,s.jsx)(ep.A,{className:"mr-2 h-4 w-4"})," Add Todo"]})]}),(0,s.jsx)(V,{todos:e,onEdit:i,onDelete:f,onToggleComplete:p}),(0,s.jsx)(K,{open:a||!!l,onOpenChange:e=>{o(e),e||i(null)},children:(0,s.jsxs)(ea,{children:[(0,s.jsx)(es,{children:(0,s.jsx)(er,{children:l?"Edit Todo":"Create Todo"})}),(0,s.jsx)(G,{initialData:l||void 0,onSubmit:l?u:c,onCancel:()=>{o(!1),i(null)}})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[932,441,517,358],()=>t(9466)),_N_E=e.O()}]);